<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Divya üéâ</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap');

  body {
    margin: 0;
    min-height: 100vh;
    background: black;
    color: white;
    font-family: 'Poppins', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    overflow-y: auto;
    text-align: center;
    padding: 40px 10px;
  }

  h1 {
    font-size: 3rem;
    color: #ff66b2;
    margin-bottom: 10px;
    text-shadow: 0 0 20px #ff66b2;
  }

  h3 {
    font-family: 'Great Vibes', cursive;
    font-size: 2rem;
    color: #ffccff;
    margin: 0;
  }

  button {
    margin-top: 20px;
    padding: 15px 30px;
    font-size: 1.2rem;
    border: none;
    border-radius: 50px;
    background: linear-gradient(45deg, #ff66b2, #b366ff);
    color: white;
    cursor: pointer;
    box-shadow: 0 0 15px #b366ff;
    transition: all 0.3s ease;
  }

  button:hover {
    transform: scale(1.08);
    box-shadow: 0 0 25px #ff66b2;
  }

  #photoContainer {
    display: none;
    position: relative;
    margin-top: 20px;
  }

  #photo {
    width: 300px;
    max-width: 80vw;
    border-radius: 20px;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 25px rgba(255, 255, 255, 0.3);
    transition: all 0.5s ease;
    cursor: pointer;
  }

  #downloadOverlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 20px;
    background: rgba(0,0,0,0.5);
    color: #fff;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  #photoContainer:hover #downloadOverlay {
    opacity: 1;
  }

  #message {
    margin: 20px auto;
    width: 85%;
    max-width: 700px;
    font-size: 1rem;
    line-height: 1.6;
    display: none;
  }

  a {
    color: #ff66b2;
    text-decoration: none;
  }

  .emoji {
    position: fixed;
    bottom: 0;
    font-size: 1.5rem;
    animation: floatUp 4s linear forwards;
    pointer-events: none;
  }

  @keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-100vh) scale(1.2); opacity: 0; }
  }

  .toast {
    position: fixed;
    bottom: 20px;
    background: rgba(255, 105, 180, 0.9);
    color: white;
    padding: 12px 25px;
    border-radius: 30px;
    font-size: 1rem;
    box-shadow: 0 0 15px #ff66b2;
    animation: fadeInOut 4s ease forwards;
  }

  @keyframes fadeInOut {
    0%,100% { opacity: 0; transform: translateY(30px); }
    10%,90% { opacity: 1; transform: translateY(0); }
  }

  #thankYou, #downloadAll {
    display: none;
  }

  /* Device mode popup */
  #modePopup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }

  #modePopup h2 {
    color: #ffccff;
    font-size: 2rem;
    margin-bottom: 20px;
  }

  .modeBtn {
    margin: 10px;
    padding: 15px 35px;
    font-size: 1.2rem;
    background: linear-gradient(45deg, #b366ff, #ff66b2);
    border: none;
    border-radius: 40px;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 0 15px #b366ff;
    transition: 0.3s;
  }

  .modeBtn:hover {
    transform: scale(1.08);
    box-shadow: 0 0 25px #ff66b2;
  }

  /* Mobile mode adjustment */
  body.mobile {
    font-size: 0.9rem;
  }
  body.mobile h1 {
    font-size: 2.2rem;
  }
  body.mobile h3 {
    font-size: 1.5rem;
  }
  body.mobile button {
    padding: 10px 25px;
    font-size: 1rem;
  }
  body.mobile #photo {
    width: 80%;
  }

</style>
</head>
<body>

<!-- Mode Selection Popup -->
<div id="modePopup">
  <h2>Choose Your Mode </h2>
  <button class="modeBtn" id="desktopMode">üíª Desktop / PC</button>
  <button class="modeBtn" id="mobileMode">üì± Mobile (Android / Apple)</button>
</div>

<h1 id="helloText">Hello Divya</h1>
<h3 id="subText">Press below button</h3>
<button id="startBtn">Click Me</button>

<div id="photoContainer">
  <img id="photo" src="https://via.placeholder.com/300x400.png?text=Divya+Photo+1" alt="Divya Image">
  <div id="downloadOverlay">üì∏ Download Image</div>
</div>

<p id="message"></p>
<button id="thankYou">Thank You</button>
<button id="downloadAll">Download Image</button>

<script>
const startBtn = document.getElementById('startBtn');
const helloText = document.getElementById('helloText');
const subText = document.getElementById('subText');
const photoContainer = document.getElementById('photoContainer');
const photo = document.getElementById('photo');
const message = document.getElementById('message');
const thankYou = document.getElementById('thankYou');
const downloadAll = document.getElementById('downloadAll');

const modePopup = document.getElementById('modePopup');
const desktopMode = document.getElementById('desktopMode');
const mobileMode = document.getElementById('mobileMode');

let images = [
  "./divya.png?text=Divya+Photo+1",
  "./divya 2.png?text=Divya+Photo+2"
];
let currentImage = 0;

// Mode selection
desktopMode.addEventListener('click', () => {
  document.body.classList.remove('mobile');
  modePopup.style.display = 'none';
  showToast("üíª Desktop Mode Activated");
});

mobileMode.addEventListener('click', () => {
  document.body.classList.add('mobile');
  modePopup.style.display = 'none';
  showToast("üì± Mobile Mode Activated");
  window.scrollTo(0, 0);
});

startBtn.addEventListener('click', () => {
  helloText.textContent = "Happy Birthday";
  subText.textContent = "Divya ";
  startBtn.style.display = "none";

  for (let i = 0; i < 20; i++) createEmoji(["üéà","üéä","‚ú®","üéâ"][Math.floor(Math.random()*4)]);

  setTimeout(() => {
    photoContainer.style.display = "block";
    setInterval(() => {
      currentImage = (currentImage + 1) % images.length;
      photo.src = images[currentImage];
    }, 4000);

    typeMessage();
    showToast("Hey Divya! You can download your image by clicking the image üíñ");
  }, 1500);
});

function createEmoji(symbol) {
  const emoji = document.createElement("div");
  emoji.classList.add("emoji");
  emoji.textContent = symbol;
  emoji.style.left = Math.random() * 100 + "vw";
  emoji.style.fontSize = Math.random() * 2 + 1 + "rem";
  document.body.appendChild(emoji);
  setTimeout(() => emoji.remove(), 4000);
}

function typeMessage() {
  const text = `Have a Blessed day Akka(Anni) Divya with your super hubby Rahul Anna and Aaradhya papa. Stay Healthy and energetic with them and may your family and studio, shop get more promoted and grow higher. May this year be your next step of success and best version. Love you Akka ü´∂‚ú®üíñ
With love and support <a href="https://instagram.com/celebmodeon" target="_blank">celebmodeon</a>`;
  
  let i = 0;
  message.style.display = "block";
  function typing() {
    if (i < text.length) {
      message.innerHTML = text.slice(0, i++) + "‚ñå";
      setTimeout(typing, 40);
    } else {
      message.innerHTML = text;
      thankYou.style.display = "inline-block";
      downloadAll.style.display = "inline-block";
    }
  }
  typing();
}

thankYou.addEventListener('click', () => {
  showToast("‚ò∫Ô∏èü´∂");
  for (let i = 0; i < 30; i++) createEmoji(["üéà","‚ú®","üéâ","üíñ"][Math.floor(Math.random()*4)]);
});

photoContainer.addEventListener('click', () => {
  const link = document.createElement('a');
  link.href = photo.src;
  link.download = "DivyaBirthdayImage.png";
  link.click();
});

function showToast(msg) {
  const toast = document.createElement('div');
  toast.classList.add('toast');
  toast.textContent = msg;
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 4000);
}

// ZIP download feature
downloadAll.addEventListener('click', async () => {
  const zip = new JSZip();
  const folder = zip.folder("Divya_Birthday_Images");
  
  for (let i = 0; i < images.length; i++) {
    const res = await fetch(images[i]);
    const blob = await res.blob();
    folder.file(`Divya_Photo_${i+1}.png`, blob);
  }

  const content = await zip.generateAsync({ type: "blob" });
  saveAs(content, "DivyaBirthdayPhotos.zip");
  showToast("üéÅ Downloading all photos as ZIP...");
});
</script>
</body>
</html>
